<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>实现单例模式</title>
</head>
<body>
    <script type="text/javascript">
    /**
     * 定义：保证一个类仅有一个实例，并提供一个访问它的全局访问点。
     */
    ;(function() {
        var Singleton=function(name) {
            this.name=name;
            this.instance=null;
        };
        Singleton.prototype.getName=function() {
            console.log(this.name);
        };
        Singleton.getInstance=function(name) {
            // console.log(this.instance);
            if(!this.instance){
                this.instance=new Singleton(name);
            }
            return this.instance;
        };
        var a=Singleton.getInstance('sven1');
        var b=Singleton.getInstance('sven2');
        console.log(a===b); // true;
        //或者
        var Singleton1=function(name) {
            this.name=name;
        };
        Singleton1.prototype=function() {
            console.log(this.name);
        };
        Singleton1.getInstance=(function() {
            var instance=null;
            return function(name) {
                if (!instance) {
                    instance= new Singleton1(name);
                
                }
                return instance;
            }
        })();
        var a1=Singleton1.getInstance('szh');
        var b1=Singleton1.getInstance('zyq');
        console.log(a1===b1);
    })();
    </script>
</body>
</html>