!function(t){var i=function(i){this.poster=i,this.posterItemMain=i.find("ul.poster-list"),this.nextBtn=i.find("div.poster-next-btn"),this.prevBtn=i.find("div.poster-prev-btn"),this.posterItems=i.find("li.poster-item"),this.posterFirstItem=this.posterItems.eq(0),this.setting={width:1e3,height:270,posterWidth:640,posterHeight:270,scale:.9,speed:500,verticalAlign:"middel"},t.extend(this.setting,this.getSetting()),this.setSettingValue(),this.setPosterPos();var e=this;this.nextBtn.click(function(){e.carouseRotate()})};i.prototype={carouseRotate:function(){alert(" ")},setPosterPos:function(){var i=this,e=this.posterItems.slice(1),s=e.size()/2,h=e.slice(0,s),n=Math.floor(this.posterItems.size()/2);leftSlice=e.slice(s);var r=this.setting.posterWidth,o=this.setting.posterHeight,g=(this.setting.width-this.setting.posterWidth)/2/n,a=(this.setting.width-this.setting.posterWidth)/2,c=a+r;h.each(function(e){n--;var s=e;r*=i.setting.scale,o*=i.setting.scale,t(this).css({zIndex:n,width:r,height:o,opacity:1/++e,left:c+ ++s*g-r,top:i.setVertucalAlign(o)})});var l=h.last().width(),p=h.last().height(),d=Math.floor(this.posterItems.size()/2);leftSlice.each(function(e){t(this).css({zIndex:n,width:l,height:p,opacity:1/d,left:e*g,top:i.setVertucalAlign(p)}),l/=i.setting.scale,p/=i.setting.scale,d--})},setVertucalAlign:function(t){var i=this.setting.verticalAlign,e=0;return e="middle"===i?(this.setting.height-t)/2:"top"===i?0:"bottom"===i?this.setting.height-t:(this.setting.height-t)/2},setSettingValue:function(){this.poster.css({width:this.setting.width,height:this.setting.height}),this.posterItemMain.css({width:this.setting.width,height:this.setting.height});var t=(this.setting.width-this.setting.posterWidth)/2;this.nextBtn.css({width:t,height:this.setting.height,zIndex:Math.ceil(this.posterItems.size()/2)}),this.prevBtn.css({width:t,height:this.setting.height,zIndex:Math.ceil(this.posterItems.size()/2)}),this.posterFirstItem.css({width:this.setting.posterWidth,height:this.setting.posterHeight,left:t,zIndex:Math.ceil(this.posterItems.size()/2)})},getSetting:function(){var i=this.poster.attr("data-setting");return i&&""!==i?t.parseJSON(i):{}}},i.init=function(i){var e=this;i.each(function(){new e(t(this))})},window.Carousel=i}(jQuery);